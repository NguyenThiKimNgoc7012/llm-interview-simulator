<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <title>MONA.HR</title>
    <link rel="icon" href="{{ url_for('static', filename='images/panda.png') }}" type="image/png" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/navbar.css') }}" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
    <style>
      /* Nền trang */
      body {
        background-color: #f7f9fc; /* Màu sáng nhẹ nhàng */
        font-family: 'Roboto', sans-serif;
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center; /* Canh giữa theo chiều dọc */
        margin: 0; /* Loại bỏ margin mặc định */
        flex-direction: column; /* Đảm bảo các phần tử con không bị chồng lên nhau */
      }
      
      /* Navbar style */
      .navbar {
        background-color: #ffffff; /* Màu nền sáng cho navbar */
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1); /* Bóng đổ nhẹ cho navbar */
        position: absolute;
        width: 100%;
        top: 0;
      }
      
      /* Card với phong cách hiện đại */
      .card {
        background: #ffffff;
        border-radius: 20px;
        padding: 20px 70px;
        width: 100%;
        max-width: 700px; /* Tăng kích thước của card */
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1); /* Bóng đổ nhẹ */
        transition: all 0.3s ease-in-out;
      }
      
      .card:hover {
        transform: translateY(-10px); /* Hiệu ứng hover cho card */
      }
      
      .card h2 {
        font-family: 'Open Sans', sans-serif;
        color: #333;
        text-align: center;
        margin-bottom: 30px;
        font-weight: 600;
      }
      
      /* Các trường nhập liệu */
      .form-floating {
        margin-bottom: 60px; /* Khoảng cách giữa các trường nhập liệu */
      }
      
      .form-floating input,
      .form-floating select,
      .form-floating textarea {
        background: #f8f9fa;
        border: 1px solid #ccc;
        border-radius: 12px;
        padding: 18px;
        font-size: 18px;
        color: #333;
        width: 100%;
        transition: all 0.3s ease;
        font-family: 'Roboto', sans-serif;
      }
      
      .form-floating input:focus,
      .form-floating select:focus,
      .form-floating textarea:focus {
        background: #fff;
        border-color: rgb(128, 165, 144);
        box-shadow: 0 0 5px rgba(0, 123, 255, 0.2);
        outline: none;
      }
      /* Nút Kết thúc */
      #finishInterview {
        background-color: #28a745;
        color: white;
        border-radius: 30px;
        padding: 16px 40px;
        font-size: 18px;
        border: none;
        margin-top: 20px;
      }
      
      #finishInterview:hover {
        background-color: #218838;
      }
      
      /* Hiệu ứng cho nút bấm */
      .btn-primary {
        background: rgb(97, 136, 99);
        color: white;
        border-radius: 30px;
        padding: 16px 40px;
        font-size: 18px;
        border: none;
        width: 100%;
        transition: background-color 0.3s ease;
      }
      
      .btn-primary:hover {
        background-color: rgb(59, 187, 13);
      }
      
      .btn-primary:active {
        transform: scale(0.98);
      }
      
      /* Responsive cho mobile */
      @media (max-width: 768px) {
        .card {
          padding: 40px 50px;
        }
      
        .btn-primary {
          padding: 14px 35px;
        }
      }
      /* Mô tả công việc */
      .form-floating textarea {
        background: #f8f9fa;
        border: 1px solid #ccc;
        border-radius: 12px;
        padding: 18px;
        font-size: 18px;
        color: #333;
        width: 100%;
        transition: all 0.3s ease;
        font-family: 'Roboto', sans-serif;
        resize: none; /* Tắt tính năng resize thủ công */
        min-height: 120px; /* Đảm bảo chiều cao tối thiểu */
      }
    </style>
  </head>
  <body class="bg-white">
    <!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm px-4">
      <div class="container-fluid">
        <a class="navbar-brand d-flex align-items-center" href="/"><img src="{{ url_for('static', filename='images/AI.png') }}" alt="Mona HR" class="logo-img" /></a>

        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"><span class="navbar-toggler-icon"></span></button>

        <div class="collapse navbar-collapse justify-content-end" id="navbarSupportedContent">
          <ul class="navbar-nav mb-2 mb-lg-0 gap-2">
            <li class="nav-item">
              <a class="nav-link" href="/form">Bắt đầu phỏng vấn</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/history">Lịch sử</a>
            </li>
          
          </ul>
        </div>
      </div>
    </nav>

    <!-- Form -->
    <div class="card">
      <h2>Nhập thông tin phỏng vấn</h2>
      <form action="/start_interview" method="POST">
        <!-- Họ và tên -->
        <div class="form-floating mb-3">
          <input type="text" class="form-control" id="name" name="name" required />
          <label for="name">Họ và tên</label>
        </div>

        <!-- Ngành nghề -->
        <div class="form-floating mb-3">
          <input type="text" class="form-control" id="job_title" name="job_title" placeholder="VD: Data Analyst, Marketing, ..." required />
          <label for="job_title">Ngành nghề</label>
        </div>
        <div class="form-floating mb-3">
          <input type="email" class="form-control" id="email" name="email" placeholder="Nhập email" required />
          <label for="email">Email</label>
        </div>

       

        <!-- Ngôn ngữ phỏng vấn -->
        <div class="form-floating mb-3">
          <select class="form-select" id="language" name="language" required>
            <option value="vi">Tiếng Việt</option>
            <option value="en">English</option>
          </select>
          <label for="language">Ngôn ngữ phỏng vấn</label>
        </div>

        <!-- Mô tả công việc -->
        <div class="form-floating mb-3">
          <textarea class="form-control" id="job_description" name="job_description" rows="4" placeholder="Nhập mô tả chi tiết công việc ứng tuyển..."></textarea>
          <label for="job_description">Mô tả công việc (JD)</label>
        </div>

        <button type="submit" class="btn btn-primary">Bắt đầu phỏng vấn</button>
      </form>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      // Tự động điều chỉnh chiều cao của textarea khi nhập nội dung
      const textarea = document.querySelector('#job_description')
      
      textarea.addEventListener('input', function () {
        this.style.height = 'auto' // Đặt chiều cao về auto trước khi tính toán lại
        this.style.height = this.scrollHeight + 'px' // Điều chỉnh chiều cao dựa trên scrollHeight
      })
    </script>
    <script>
  document.getElementById('finishInterview').addEventListener('click', function () {
    // Lấy dữ liệu từ form
    const name = document.getElementById('name').value;
    const jobTitle = document.getElementById('job_title').value;
    const email = document.getElementById('email').value;
    const level = document.getElementById('level').value;
    const language = document.getElementById('language').value;
    const jobDescription = document.getElementById('job_description').value;

    // Hiển thị báo cáo kết quả
    const reportContent = `
      <strong>Tên:</strong> ${name} <br>
      <strong>Ngành nghề:</strong> ${jobTitle} <br>
      <strong>Email:</strong> ${email} <br>
      <strong>Vị trí ứng tuyển:</strong> ${level} <br>
      <strong>Ngôn ngữ phỏng vấn:</strong> ${language} <br>
      <strong>Mô tả công việc:</strong> ${jobDescription} <br>
    `;
    document.getElementById('resultReport').innerHTML = reportContent;

    // Hiển thị báo cáo
    document.getElementById('report').style.display = 'block';

    // Gửi email (Giả lập gửi email)
    // Đây là nơi bạn cần sử dụng server-side code để thực sự gửi email
    alert('Báo cáo đã được gửi đến email: ' + email);
  });
</script>

  </body>
</html>
